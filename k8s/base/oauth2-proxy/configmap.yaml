---
apiVersion: v1
kind: ConfigMap
metadata:
  name: oauth2-proxy-config
  namespace: auth
  labels:
    app: oauth2-proxy
data:
  # OAuth2 Proxy configuration
  # See: https://oauth2-proxy.github.io/oauth2-proxy/docs/configuration/overview
  
  # Email domains to allow (use * for any)
  email-domains: "*"
  
  # Whitelist domains for redirects
  whitelist-domains: ".cat-herding.net"
  
  # Cookie settings
  cookie-name: "_oauth2_proxy"
  cookie-samesite: "lax"
  cookie-httponly: "true"
  cookie-secure: "true"
  
  # Session settings
  cookie-expire: "168h"  # 7 days
  cookie-refresh: "1h"   # Refresh cookie every hour
  
  # Logging
  logging-level: "info"
  standard-logging: "true"
  auth-logging: "true"
  request-logging: "true"
